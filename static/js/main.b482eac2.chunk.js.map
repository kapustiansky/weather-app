{"version":3,"sources":["utils/compose.js","components/city-list-item/city-list-item.js","components/city-list-item/index.js","components/weather-service-context/weather-service-context.js","components/hoc/with-weather-service.js","actions/index.js","components/spinner/index.js","components/spinner/spinner.js","components/city-add-form/city-add-form.js","components/city-add-form/index.js","components/error-indicator/index.js","components/error-indicator/error-indicator.js","components/city-list/city-list.js","components/google-api/index.js","components/city-list/index.js","components/pages/home-page.js","components/pages/cart-page.js","components/app/index.js","components/app/app.js","components/error-boundry/index.js","components/error-boundry/error-boundry.js","services/weather-service.js","reducers/index.js","store.js","index.js"],"names":["compose","funcs","comp","reduceRight","wrapped","f","useStyles","makeStyles","root","maxWidth","background","margin","boxShadow","minMax","width","bg","fontFamily","buttons","paddingTop","justifyContent","fontTemp","fontSize","fontCity","CityListItem","cityData","deleteCityItem","name","t","feels_like","temp_min","temp_max","icon","classes","Card","className","CardContent","Box","display","alignItems","src","alt","Typography","variant","component","CardActions","Button","size","IconButton","onClick","newStorageArr","JSON","parse","localStorage","getItem","filter","item","id","payload","setItem","stringify","aria-label","React","createContext","WeatherServiceProvider","Provider","WeatherServiceConsumer","Consumer","withWeatherService","Wrapped","props","weatherService","fetchCitis","dispatch","type","getCityData","then","data","catch","err","Spinner","theme","createMuiTheme","palette","primary","main","citisArray","CityAddForm","handleChange","address","setState","handleSelect","setTimeout","cityValue","state","split","URL","fetch","response","status","json","Error","temp","iconData","weather","cityWeather","Math","trunc","push","onAddedNewCiy","alert","message","this","value","onChange","onSelect","getInputProps","suggestions","getSuggestionItemProps","loading","ThemeProvider","form","box","TextField","label","color","input","map","suggestion","active","style","cursor","transition","span","description","placeId","button","Component","withStyles","marginBottom","height","padding","connect","city","newCityItem","cityItemAdded","ErrorIndicator","CityList","Grid","container","spacing","justify","xs","sm","lg","CityListContainer","error","HomePege","CartPage","App","path","exact","ErrorBoundry","hasError","children","WeatherService","arr","pushData","getWeatherData","Promise","resolve","reject","initialState","reducer","action","eventId","newArr","store","createStore","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.b482eac2.chunk.js","sourcesContent":["const compose = (...funcs) => (comp) => {\n  return funcs.reduceRight(\n    (wrapped, f) => f(wrapped), comp);\n};\n\nexport default compose;\n","import React from 'react';\r\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff';\r\nimport { \r\n\tmakeStyles, \r\n\tCard, \r\n\tCardActions, \r\n\tCardContent, \r\n\tButton, \r\n\tTypography, \r\n\tBox, \r\n\tIconButton\r\n} from '@material-ui/core';\r\n//import AutorenewIcon from '@material-ui/icons/Autorenew';\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n\t  maxWidth: 250,\r\n\t  background: \r\n\t  \t'linear-gradient(0deg, rgb(255 255 255 / 0%) 0%, #f7f7f7 50%, rgb(255 255 255 / 0%) 100%)',\r\n\t  margin: 'auto',\r\n\t  boxShadow: 'none',\r\n\t},\r\n\tminMax: {\r\n\t\twidth: '60%',\r\n\t},\r\n\tbg: {\r\n\t\tfontFamily: `'Merriweather', serif`\r\n\t},\r\n\tbuttons: {\r\n\t\tpaddingTop: 0,\r\n\t\tjustifyContent: 'space-between'\r\n\t},\r\n\tfontTemp: {\r\n\t\tfontSize: 60,\r\n\t  ['@media (max-width:960px)']: { // eslint-disable-line no-useless-computed-key\r\n\t\tfontSize: 45\r\n\t  },\r\n\t},\r\n\tfontCity: {\r\n\t\tfontSize: 24,\r\n\t  ['@media (max-width:960px)']: { // eslint-disable-line no-useless-computed-key\r\n\t\tfontSize: 20\r\n\t  },\r\n\t  fontFamily: `'Roboto Slab', serif`\r\n\t}\r\n  });\r\n\r\nconst CityListItem = ({cityData, deleteCityItem}) => {\r\n\tconst { name, t, feels_like, temp_min, temp_max, icon } = cityData;\r\n\tconst classes = useStyles();\r\n\r\n\tconst deleteItem = () => {\r\n\t\tconst storageArr = JSON.parse(localStorage.getItem('citisData'));\r\n\t\tconst newStorageArr = storageArr.filter((item) => item.id !== deleteCityItem().payload);\r\n\t\tlocalStorage.setItem('citisData', JSON.stringify(newStorageArr));\t\t\r\n\t\t//return deleteCityItem;\r\n\t}\t\r\n    return (\r\n\t\t<Card className={classes.root}>\r\n\t\t\t<CardContent>\r\n\t\t\t\t<Box>\r\n\t\t\t\t\t<Box display=\"flex\" justifyContent=\"space-evenly\" alignItems=\"center\">\r\n\t\t\t\t\t\t<img src={`https://openweathermap.org/img/w/${icon}.png`} alt='Icon current weather'/>\r\n\t\t\t\t\t\t<Typography className={classes.fontTemp} variant=\"h2\">\r\n\t\t\t\t\t\t\t{t}&#8451;\r\n\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t</Box>\r\n\t\t\t\t\t<Typography className={classes.bg} variant=\"subtitle2\">\r\n\t\t\t\t\t\tFeels Like:  {feels_like}&#8451;\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t\t<Typography className={classes.fontCity} variant=\"h5\" component=\"h1\">\r\n\t\t\t\t\t{name}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Box display=\"flex\" justifyContent=\"space-between\" className={classes.minMax}>\r\n\t\t\t\t\t<Typography variant=\"body2\" component=\"p\" className={classes.bg}>\r\n\t\t\t\t\t\tmin: {temp_min}&#8451;\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t<Typography variant=\"body2\" component=\"p\" className={classes.bg}>\r\n\t\t\t\t\t\tmax: {temp_max}&#8451;\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</Box>\r\n\t\t\t</CardContent>\r\n\t\t\t<CardActions className={classes.buttons}>\r\n\t\t\t\t<Button size=\"small\">Learn More</Button>\r\n\t\t\t\t<IconButton onClick={deleteItem} aria-label=\"delete\" size=\"small\">\r\n\t\t\t\t\t<HighlightOffIcon fontSize=\"small\"/>\r\n        \t\t</IconButton>\r\n\t\t\t</CardActions>\r\n        </Card>\r\n    );\r\n}\r\n\r\nexport default CityListItem;","import CityListItem from './city-list-item';\r\n\r\nexport default CityListItem;","import React from 'react';\r\n\r\nconst {\r\n\tProvider: WeatherServiceProvider,\r\n\tConsumer: WeatherServiceConsumer\r\n} = React.createContext();\r\n\r\nexport {\r\n\tWeatherServiceProvider,\r\n\tWeatherServiceConsumer\r\n};","import React from 'react';\r\nimport { WeatherServiceConsumer } from '../weather-service-context';\r\n\r\nconst withWeatherService = () => (Wrapped) => {\r\n\r\n\treturn (props) => {\r\n\t\treturn (\r\n\t\t\t<WeatherServiceConsumer>\r\n\t\t\t\t{\r\n\t\t\t\t\t(weatherService) => {\r\n\t\t\t\t\t\treturn (<Wrapped {...props}\r\n\t\t\t\t\t\t\tweatherService={weatherService}/>);\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t</WeatherServiceConsumer>\r\n\t  );\r\n\t}\r\n  }\r\n  \r\n  export default withWeatherService;","const cityLoaded = (newCity) => {\r\n\treturn {\r\n\t\ttype: 'FETCH_CITY_LOADED',\r\n\t\tpayload: newCity\r\n\t};\r\n};\r\n\r\nconst cityRequested = () => {\r\n\treturn {\r\n\t\ttype: 'FETCH_CITY_REQUESTED'\r\n\t}\r\n};\r\n\r\nconst cityError = (error) => {\r\n\treturn {\r\n\t\ttype: 'FETCH_CITY_FAILURE',\r\n\t\tpayload: error\r\n\t}\r\n}\r\n\r\nconst fetchCitis = (weatherService, dispatch) => () => {\r\n\tdispatch(cityRequested());\r\n\tweatherService.getCityData()\r\n\t\t.then((data) => dispatch(cityLoaded(data)))\r\n\t\t.catch((err) => dispatch(cityError(err)));\r\n}\r\n\r\nexport const cityItemAdded = (newCityItem) => {\r\n\treturn {\r\n\t\ttype: 'ITEM_ADDED_TO_CITY',\r\n\t\tpayload: newCityItem\r\n\t};\r\n};\r\n\r\nexport const deleteItem = (deleteId) => {\r\n\treturn {\r\n\t\ttype: 'ITEM_CITY_DELETE',\r\n\t\tpayload: deleteId\r\n\t};\r\n};\r\n\r\nexport {\r\n\tfetchCitis\r\n};","import Spinner from './spinner';\n\nexport default Spinner;\n","import React from 'react';\r\n\r\nconst Spinner = () => {\r\n\treturn <div>Loading...</div>\r\n}\r\n\r\nexport default Spinner;","import React, { Component } from 'react';\r\nimport { TextField, Button, Box } from '@material-ui/core';\r\nimport { createMuiTheme, ThemeProvider, withStyles } from '@material-ui/core/styles';\r\nimport { connect } from 'react-redux';\r\nimport PlacesAutocomplete from 'react-places-autocomplete';\r\n\r\nimport { compose } from '../../utils';\r\nimport { cityItemAdded } from '../../actions';\r\n\r\nconst theme = createMuiTheme({\r\n\tpalette: {\r\n\t\tprimary: {\r\n\t\t\tmain: '#afafaf',\r\n\t\t},\r\n  }})\r\n\r\nconst styles = {\r\n    form: {\r\n\t  display: 'flex',\r\n\t  justifyContent: 'center'\r\n\t},\r\n\tbox: {\r\n\t\twidth: '70%'\r\n\t},\r\n\tinput: {\r\n\t\twidth: '100%',\r\n\t\tmarginBottom: 5,\r\n\t\tfontFamily: `'Roboto Slab', serif`\r\n\t},\r\n\tbutton: {\r\n\t\theight: 48\r\n\t},\r\n\tspan: {\r\n\t\tpadding: 6,\r\n\t\tfontFamily: `'Roboto Slab', serif`\r\n\t}\r\n  }\r\n\r\nconst citisArray = localStorage.getItem('citisData') ? JSON.parse(localStorage.getItem('citisData')) : [];\r\nconst API_KAY = '9db1d496a91bad902ebeff185ff91bdf';\r\n\r\nclass CityAddForm extends Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = { address: '' };\r\n\t}\r\n\t \r\n\thandleChange = (address) => {\r\n\t\tthis.setState({ address });\r\n\t}\r\n\t \r\n\thandleSelect = (address) => {\r\n\t\tthis.setState({ address });\r\n\t\tsetTimeout(() => {\r\n\t\t\tthis.onClick();\r\n\t\t}, 40);\r\n\t}\r\n\r\n\tonClick = () => {\r\n\t\tconst value  = this.state.address;\r\n\t\tconst cityValue = value.split(',')[0];\r\n\t\t\r\n\t\tthis.setState({\r\n\t\t\taddress: '',\r\n\t\t});\r\n\r\n\t\tconst URL =\r\n\t\t\t`https://api.openweathermap.org/data/2.5/weather?q=${cityValue}&appid=${API_KAY}&units=metric`;\r\n\r\n  \t\tfetch(URL)\r\n\t\t\t.then((response) => {\r\n\r\n\t\t\t\tif(response.status === 200) {\t\t\t\t\t\t\r\n\t\t\t\t\treturn response.json();\r\n\r\n\t\t\t\t} else if(response.status === 404) {\r\n\t\t\t\t\tthrow new Error(\"Нет данных по вашему городу! Проверьте правильность ввода.\");\r\n\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthrow new Error(\"Что-то пошло не так, попробуйте еще раз.\");\r\n\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t.then((data) => {\t\t\t\r\n\t\t\t\tconst { id, name, main: { feels_like, temp, temp_max, temp_min }, weather: [iconData] } = data;\r\n\t\t\t\tconst cityWeather = {\r\n\t\t\t\t\tid: id,\r\n\t\t\t\t\tname: name,\r\n\t\t\t\t\tt: Math.trunc(temp),\r\n\t\t\t\t\tfeels_like: Math.trunc(feels_like),\r\n\t\t\t\t\ttemp_min: Math.trunc(temp_min),\r\n\t\t\t\t\ttemp_max: Math.trunc(temp_max),\r\n\t\t\t\t\ticon: iconData.icon\r\n\t\t\t\t}\r\n\r\n\t\t\t\tcitisArray.push({\r\n\t\t\t\t\tid: cityWeather.id,\r\n\t\t\t\t\tname: cityWeather.name,\r\n\t\t\t\t});\r\n\t\t\t\tlocalStorage.setItem('citisData', JSON.stringify(citisArray));\r\n\t\t\t\t\r\n\t\t\t\tsetTimeout(this.props.onAddedNewCiy(cityWeather), 400);\r\n\t\t\t\t})\r\n\t\t\t.catch((err) => alert(err.message))\r\n\t}\r\n\r\n\trender() {\r\n\t\tconst { classes } = this.props;\r\n\t\treturn (\t\t\t\r\n\t\t\t<PlacesAutocomplete\r\n\t\t\t\tvalue={this.state.address}\r\n\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\tonSelect={this.handleSelect}\r\n\t\t\t>\r\n\t\t\t{({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n\t\t\t\t<ThemeProvider theme={theme}>\r\n\t\t\t\t\t<form className={classes.form}>\r\n\t\t\t\t\t\t<Box className={classes.box}>\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t{...getInputProps()}\r\n\t\t\t\t\t\t\tlabel=\"You City\" color=\"primary\"\r\n\t\t\t\t\t\t\tclassName={classes.input}\r\n\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t<div >\r\n\t\t\t\t\t\t\t{/* {loading && <div>Loading...</div>} */}\r\n\t\t\t\t\t\t\t{suggestions.map((suggestion) => {\r\n\t\t\t\t\r\n\t\t\t\t\t\t\t\tconst className = suggestion.active\r\n\t\t\t\t\t\t\t\t? 'suggestion-item--active'\r\n\t\t\t\t\t\t\t\t: 'suggestion-item';\r\n\t\t\t\t\t\t\t\t// inline style for demonstration purpose\r\n\t\t\t\t\t\t\t\tconst style = suggestion.active\r\n\t\t\t\t\t\t\t\t? { cursor: 'pointer', color: '#000000', fontSize: 17, transition: '0.2s' }\r\n\t\t\t\t\t\t\t\t: { cursor: 'pointer', color: '#7f7f7f', transition: '0.2s' };\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tkey={suggestion.placeId}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t\t{...getSuggestionItemProps(suggestion, {\r\n\t\t\t\t\t\t\t\t\tclassName,\r\n\t\t\t\t\t\t\t\t\tstyle,\r\n\t\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className={classes.span}>{suggestion.description}</span>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</Box>\r\n\t\t\t\t\t\t<Button className={classes.button} onClick={this.onClick} size=\"small\">Add City</Button>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t</ThemeProvider>\r\n\t\t\t)}\r\n\t\t\t</PlacesAutocomplete>\r\n\t\t\t\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapSrateToProps = ({ city }) => {\r\n    return { city }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\t\tonAddedNewCiy: (newCityItem) => dispatch(cityItemAdded(newCityItem))\r\n    }\r\n}\r\n\r\nexport default compose(\r\n\twithStyles(styles),\r\n\tconnect(mapSrateToProps, mapDispatchToProps)\r\n)(CityAddForm);","import CityAddForm from './city-add-form';\r\n\r\nexport default CityAddForm;","import ErrorIndicator from './error-indicator';\n\nexport default ErrorIndicator;","import React from 'react';\r\nimport CityAddForm from '../city-add-form';\r\n\r\nconst ErrorIndicator = () => {\r\n\treturn ( \r\n\t\t<>\r\n\t\t\t<div> Error </div> \r\n\t\t\t<CityAddForm />\r\n\t\t</>\r\n\t);\r\n}\r\n\r\nexport default ErrorIndicator;","import React, { Component } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport { connect } from 'react-redux';\r\n\r\nimport { compose } from '../../utils';\r\nimport CityListItem from '../city-list-item';\r\nimport { withWeatherService } from '../hoc';\r\nimport { fetchCitis, deleteItem } from '../../actions';\r\nimport Spinner from '../spinner';\r\nimport CityAddForm from '../city-add-form';\r\nimport ErrorIndicator from '../error-indicator';\r\n\r\nimport LocationSearchInput from '../google-api'\r\n\r\nconst CityList = ({ city, deleteCityItem }) => {\r\n    return ( \r\n        <Grid container spacing={2} justify=\"center\">\r\n            {\r\n                city.map((cityData) => {    \r\n                \treturn (\r\n                \t    <Grid key={cityData.id} item xs={6} sm={3} lg={2}>\r\n                \t        <CityListItem cityData={cityData} deleteCityItem={() => deleteCityItem(cityData.id)}/>\r\n                \t    </Grid>\r\n                \t);\r\n                })\r\n            }\r\n            <Grid style={{ padding: 20 }} item xs={12}>\r\n                <CityAddForm />\r\n            </Grid>\r\n        </Grid>   \r\n    )\r\n}\r\nclass CityListContainer extends Component {\r\n\tcomponentDidMount() {\r\n        this.props.fetchCitis();\r\n\t}\r\n\r\n    render() {\r\n        const { city, loading, error, deleteCityItem } = this.props;\r\n\r\n        if (loading) {\r\n            return <Spinner />;\r\n        }\r\n\r\n        if (error) {\r\n            return <ErrorIndicator />;\r\n        }\r\n\r\n        return <CityList city={city} deleteCityItem={deleteCityItem}/>\r\n    }\r\n}\r\n\r\nconst mapSrateToProps = ({ city, loading, error }) => {\r\n    return { city, loading, error }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch, { weatherService }) => {\r\n    return {\r\n        fetchCitis: fetchCitis(weatherService, dispatch),\r\n        deleteCityItem: (id) => dispatch(deleteItem(id))\r\n    }\r\n}\r\n\r\nexport default compose(\r\n\twithWeatherService(),\r\n\tconnect(mapSrateToProps, mapDispatchToProps)\r\n)(CityListContainer);","import React from 'react';\r\nimport PlacesAutocomplete, {\r\n  geocodeByAddress,\r\n  getLatLng,\r\n} from 'react-places-autocomplete';\r\n \r\nexport default class LocationSearchInput extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { address: '' };\r\n  }\r\n \r\n  handleChange = address => {\r\n    this.setState({ address })\r\n    //console.log(this.state.address)\r\n  };\r\n \r\n  handleSelect = suggestion => {\r\n    console.log(suggestion)\r\n    console.log(this.state.address)\r\n  };\r\n \r\n  render() {\r\n    return (\r\n      <PlacesAutocomplete\r\n        value={this.state.address}\r\n        onChange={this.handleChange}\r\n        onSelect={this.handleSelect}\r\n        // highlightFirstSuggestion={true}\r\n      >\r\n        {({ getInputProps, suggestions, getSuggestionItemProps, loading }) => (\r\n          <div>\r\n            <input\r\n              {...getInputProps({\r\n                placeholder: 'Search Places ...',\r\n                className: 'location-search-input',\r\n              })}\r\n            />\r\n            <div className=\"autocomplete-dropdown-container\">\r\n              {loading && <div>Loading...</div>}\r\n              {suggestions.map(suggestion => {\r\n                const className = suggestion.active\r\n                  ? 'suggestion-item--active'\r\n                  : 'suggestion-item';\r\n                // inline style for demonstration purpose\r\n                const style = suggestion.active\r\n                  ? { backgroundColor: '#fafafa', cursor: 'pointer' }\r\n                  : { backgroundColor: '#ffffff', cursor: 'pointer' };\r\n                return (\r\n                  <div\r\n                    {...getSuggestionItemProps(suggestion, {\r\n                      className,\r\n                      style,\r\n                    })}\r\n                  >\r\n                    <span>{suggestion.description}</span>\r\n                  </div>\r\n                );\r\n              })}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </PlacesAutocomplete>\r\n    );\r\n  }\r\n}","import CityList from './city-list';\r\n\r\nexport default CityList;","import React from 'react';\r\nimport CityList from '../city-list';\r\n\r\nconst HomePege = () => {\r\n    return (\r\n        <CityList />\r\n    )\r\n}\r\n\r\nexport default HomePege;","import React from 'react';\r\n\r\nconst CartPage = () => {\r\n    return <div>CartPage</div>\r\n}\r\n\r\nexport default CartPage;","import App from './app';\r\n\r\nexport default App;","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { HomePege, CartPage } from '../pages';\r\n\r\nconst App = () => {\r\n\r\n    return (\r\n        <Switch>\r\n\t\t\t<Route\r\n\t\t\tpath=\"/\"\r\n\t\t\tcomponent={HomePege}\r\n\t\t\texact />\r\n\r\n\t\t\t<Route\r\n\t\t\tpath=\"/cart\"\r\n\t\t\tcomponent={CartPage} />\t\r\n\t\t</Switch>\r\n    );\r\n};\r\n\r\nexport default App;","import ErrorBoundry from './error-boundry';\r\n\r\nexport default ErrorBoundry;","import React, { Component } from 'react';\r\nimport ErrorIndicator from '../error-indicator';\r\nclass ErroBoundry extends Component {\r\n\tstate = {\r\n\t\thasError: false\r\n\t}\r\n\r\n\tcomponentDidCatch() {\r\n\t\tthis.setState({\r\n\t\t\thasError: true\r\n\t\t});\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (this.state.hasError) {\r\n\t\t\treturn <ErrorIndicator /> \r\n\t\t}\r\n\r\n\t\treturn this.props.children;\r\n\t}\r\n}\r\n\r\nexport default ErroBoundry;","class WeatherService {\r\n\tgetWeatherData() {\r\n\t\tconst arr = [];\r\n\r\n\t\tif (localStorage.getItem('citisData')) {\r\n\t\t\tconst citisArray = JSON.parse(localStorage.getItem('citisData'));\r\n\t\t\tcitisArray.map((item) => {\r\n\t\t\t\tconst API_KAY = '9db1d496a91bad902ebeff185ff91bdf';\r\n\t\t\t\tconst URL =\r\n\t\t\t\t`https://api.openweathermap.org/data/2.5/weather?q=${item.name}&appid=${API_KAY}&units=metric`;\r\n\r\n\t\t\t\tfetch(URL)\r\n\t\t\t\t\t.then((response) => {\r\n\r\n\t\t\t\t\t\tif(response.status !== 200) {\t\t\t\t\t\t\r\n\t\t\t\t\t\t\tthrow new Error(\"Что-то пошло не так! Перезагрузите страницу.\");\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn response.json();\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.then((data) => {\t\t\t\r\n\t\t\t\t\t\tconst { id, name, main: { feels_like, temp, temp_max, temp_min }, weather: [iconData] } = data;\r\n\t\t\t\t\t\tconst cityWeather = {\r\n\t\t\t\t\t\t\tid: id,\r\n\t\t\t\t\t\t\tname: name,\r\n\t\t\t\t\t\t\tt: Math.trunc(temp),\r\n\t\t\t\t\t\t\tfeels_like: Math.trunc(feels_like),\r\n\t\t\t\t\t\t\ttemp_min: Math.trunc(temp_min),\r\n\t\t\t\t\t\t\ttemp_max: Math.trunc(temp_max),\r\n\t\t\t\t\t\t\ticon: iconData.icon\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tarr.push(cityWeather);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch((err)  =>  {\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\tif (err.message === \"Что-то пошло не так! Перезагрузите страницу.\") {\r\n\t\t\t\t\t\t\talert(err.message)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\telse {\r\n\t\t\t\t\t\t\tthrow err;\r\n\t\t\t\t\t\t}\t\t\t\t\t\t\r\n\t\t\t\t\t})\r\n\t\t\t});\t\r\n\t\t\treturn arr;\r\n\t\t} else {\r\n\t\t\treturn arr;\r\n\t\t}\r\n\t}\r\n\r\n\tgetCityData() {\r\n\t\tconst pushData = this.getWeatherData();\t\t\r\n\t\treturn (\r\n\t\t\tnew Promise((resolve, reject) => {\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tresolve(pushData);\r\n\t\t\t\t\t} catch {\r\n\t\t\t\t\t\treject(new Error('Что-то пошло не так!!!'))\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 400);\t\t\t\t\r\n\t\t\t})\r\n\t\t\t// async () => {\r\n\t\t\t// \tawait new Promise((resolve) => {\r\n\t\t\t// \t\t\tresolve(pushData);\t\t\t\t\r\n\t\t\t// })\r\n\t\t\t// }\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default WeatherService;\r\n","const initialState = {\r\n\tcity: [],\r\n\tloading: true,\r\n\terror: null\r\n};\r\n\r\nconst reducer = (state = initialState, action) => {\r\n\t\r\n\t//console.log(action.type)\r\n\tswitch (action.type) {\r\n\t\tcase 'FETCH_CITY_REQUESTED':\r\n\t\t\treturn {\r\n\t\t\t\tcity: [],\r\n\t\t\t\tloading: true,\r\n\t\t\t\terror: null\r\n\t\t\t};\r\n\t\tcase 'FETCH_CITY_LOADED':\r\n\t\t\treturn {\r\n\t\t\t\tcity: action.payload,\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: null\r\n\t\t\t};\r\n\t\tcase 'FETCH_CITY_FAILURE':\r\n\t\t\treturn {\r\n\t\t\t\tcity: [],\r\n\t\t\t\tloading: false,\r\n\t\t\t\terror: action.payload\r\n\t\t\t};\r\n\t\tcase 'ITEM_ADDED_TO_CITY':\r\n\t\t\tconst newCityItem = action.payload;\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcity: [\r\n\t\t\t\t\t...state.city,\r\n\t\t\t\t\tnewCityItem\r\n\t\t\t\t]\r\n\t\t\t};\r\n\t\tcase 'ITEM_CITY_DELETE':\r\n\t\t\tconst eventId = action.payload;\r\n\t\t\tconst newArr = state.city.filter((item) => item.id !== eventId)\r\n\t\t\treturn {\r\n\t\t\t\t...state,\r\n\t\t\t\tcity: newArr\r\n\t\t\t};\r\n\r\n\t\tdefault:\r\n\t\t\treturn state;\r\n\t}\r\n};\r\n\r\nexport default reducer;","import { createStore } from 'redux';\r\n\r\nimport reducer from './reducers';\r\n\r\nconst store = createStore(reducer);\r\n\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { HashRouter } from 'react-router-dom';\n\nimport App from './components/app';\nimport ErrorBoundry from './components/error-boundry';\nimport WeatherService from './services/weather-service';\nimport { WeatherServiceProvider } from './components/weather-service-context';\n\nimport store from './store';\nimport './index.css';\n\nconst weatherService = new WeatherService();\n\nReactDOM.render(\n\t<Provider store={store}>\n\t\t<ErrorBoundry>\n\t\t\t<WeatherServiceProvider value={weatherService}>\n\t\t\t\t<HashRouter>\n\t\t\t\t\t<App />\n\t\t\t\t</HashRouter>\n\t\t\t</WeatherServiceProvider>\n\t\t</ErrorBoundry>\n\t</Provider>,\n\n\tdocument.getElementById('root')\n  );"],"sourceRoot":""}